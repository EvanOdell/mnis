<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to mnis • mnis</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90706059-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">mnis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="http://evanodell.com">Home</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="http://evanodell.com/packages">Packages Home</a>
    </li>
    <li class="divider">
    <li>
      <a href="http://evanodell.com/hansard">hansard</a>
    </li>
    <li>
      <a href="http://evanodell.com/mnis">mnis</a>
    </li>
    <li>
      <a href="http://evanodell.com/parlitools">parlitools</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/EvanOdell/mnis">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Introduction to mnis</h1>
                        <h4 class="author">Evan Odell</h4>
            
            <h4 class="date">2017-04-29</h4>
          </div>

    
    
<div class="contents">
<p><code>mnis</code> is an R package to pull data from the UK parliament through the Members’ Name Information Service API, with the ability to tidy that data into object classes that are easy to work with in R. It emphasises simplicity and ease of use, so that users unfamiliar with APIs can easily retrieve large volumes of high quality data. The Members’ Name Information Service API does not require registration or a token, and is very generous with the number of requests allowed (it is unclear what limits are applied to the API, but I have yet to hit the limit, aside from custom requests using <code>mnis_base</code>.)</p>
<p><code>mnis</code> is for researchers, journalists and developers who follow the UK parliament for work, pleasure or some combination thereof. It has a sister package called <a href="https://cran.r-project.org/package=hansard"><code>hansard</code></a> that retrieves data from a different API, and while there is some overlap in function between the two packages, <code>mnis</code> is focused on retrieving data on individual MPs and Peers, government departments, cabinet and shadow cabinet positions, other parliamentary and political roles, and parliamentary reference data.</p>
<p>All functions requests data in JSON format and parse it to a tibble, except for <code>mnis_constituency_results</code> which returns a list (with constituency details) and a tibble (with constituency election results).</p>
<p>Functions are divided into three main types:</p>
<ul>
<li><p>Reference Functions</p></li>
<li><p>Additional Information Functions</p></li>
<li><p>Fixed Scope Functions</p></li>
</ul>
<p>There is also the <code>mnis_base</code> function that allows for fully flexibility in all API requests, by allowing you to fully specify the URL you want to call data from.</p>
<div id="installing-mnis" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-mnis" class="anchor"></a>Installing mnis</h2>
<div id="from-cran" class="section level3">
<h3 class="hasAnchor">
<a href="#from-cran" class="anchor"></a>From CRAN</h3>
<pre><code>install.packages("mnis")</code></pre>
</div>
<div id="from-github-development-version" class="section level3">
<h3 class="hasAnchor">
<a href="#from-github-development-version" class="anchor"></a>From GitHub (Development Version)</h3>
<pre><code>install.packages("devtools")
devtools::install_github("EvanOdell/mnis")</code></pre>
</div>
<div id="load-mnis" class="section level3">
<h3 class="hasAnchor">
<a href="#load-mnis" class="anchor"></a>Load mnis</h3>
<pre><code>library(mnis)</code></pre>
</div>
</div>
<div id="using-mnis" class="section level2">
<h2 class="hasAnchor">
<a href="#using-mnis" class="anchor"></a>Using mnis</h2>
<div id="mnis_base-function" class="section level3">
<h3 class="hasAnchor">
<a href="#mnis_base-function" class="anchor"></a>mnis_base function</h3>
<p>The <code><a href="../reference/mnis_base.html">mnis_base()</a></code> function accepts requests to the mnis API. The full list of request options is available on the mnis website: <a href="http://data.parliament.uk/membersdataplatform/memberquery.aspx" class="uri">http://data.parliament.uk/membersdataplatform/memberquery.aspx</a></p>
</div>
<div id="reference-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#reference-functions" class="anchor"></a>Reference Functions</h3>
<p>A series of functions to return reference data. This data is useful for providing parameters for other function calls. These functions do not accept any arguments.</p>
<p><code><a href="../reference/mnis_reference.html">ref_address_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_answering_bodies()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_areas()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_area_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_biography_categories()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_cabinets()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_committees()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_committee_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_constituencies()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_constituency_areas()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_constituency_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_countries()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_departments()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_disqualification_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_elections()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_election_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_end_reasons()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_experience_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_government_post_departments()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_government_posts()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_government_ranks()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_honourary_prefixes()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_honour_lists()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_honours()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_interest_categories()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_lords_membership_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_lords_ranks()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_opposition_post_departments()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_opposition_posts()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_opposition_ranks()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_other_parliaments()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_parliamentary_posts()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_parliamentary_ranks()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_parliament_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_parties()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_party_sub_types()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_photo_outputs()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_statuses()</a></code></p>
<p><code><a href="../reference/mnis_reference.html">ref_titles()</a></code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mnis)
x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mnis_reference.html">ref_titles</a></span>(<span class="dt">tidy =</span> <span class="ot">FALSE</span>)
x

<span class="co">#   Title_Id         Name</span>
<span class="co">#1        22        Canon</span>
<span class="co">#2         1         Dame</span>
<span class="co">#4         3          Hon</span>
<span class="co">#3         2           Dr</span>
<span class="co">#6         5         Lord</span>
<span class="co">#5         4         Lady</span>
<span class="co">#7         6       Lt Col</span>
<span class="co">#8        21       Lt Gen</span>
<span class="co">#9         7         Miss</span>
<span class="co">#10        8           Mr</span>
<span class="co">#11        9          Mrs</span>
<span class="co">#12       10           Ms</span>
<span class="co">#13       11         Prof</span>
<span class="co">#14       19    Professor</span>
<span class="co">#15       12          Rev</span>
<span class="co">#16       13       Rev Dr</span>
<span class="co">#17       18         Revd</span>
<span class="co">#18       20      Revd Dr</span>
<span class="co">#20       15          Sir</span>
<span class="co">#19       14     Reverend</span>
<span class="co">#21       16      The Rev</span>
<span class="co">#22       17 The Reverend</span></code></pre></div>
<p>With the <code>tidy</code> parameter</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mnis)
x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mnis_reference.html">ref_titles</a></span>(<span class="dt">tidy =</span> <span class="ot">TRUE</span>)
x

<span class="co">#   title_id         name</span>
<span class="co">#1        22        Canon</span>
<span class="co">#2         1         Dame</span>
<span class="co">#4         3          Hon</span>
<span class="co">#3         2           Dr</span>
<span class="co">#6         5         Lord</span>
<span class="co">#5         4         Lady</span>
<span class="co">#7         6       Lt Col</span>
<span class="co">#8        21       Lt Gen</span>
<span class="co">#9         7         Miss</span>
<span class="co">#10        8           Mr</span>
<span class="co">#11        9          Mrs</span>
<span class="co">#12       10           Ms</span>
<span class="co">#13       11         Prof</span>
<span class="co">#14       19    Professor</span>
<span class="co">#15       12          Rev</span>
<span class="co">#16       13       Rev Dr</span>
<span class="co">#17       18         Revd</span>
<span class="co">#18       20      Revd Dr</span>
<span class="co">#20       15          Sir</span>
<span class="co">#19       14     Reverend</span>
<span class="co">#21       16      The Rev</span>
<span class="co">#22       17 The Reverend</span></code></pre></div>
</div>
<div id="additional-information-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#additional-information-functions" class="anchor"></a>Additional Information Functions</h3>
<p><code><a href="../reference/mnis_additional.html">mnis_additional()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_addresses()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_basic_details()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_biography_entries()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_committees()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_constituencies()</a></code></p>
<p><code>mnis_elections_contested</code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_experiences()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_government_posts()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_honours()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_house_memberships()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_interests()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_known_as()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_maiden_speeches()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_opposition_posts()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_other_parliaments()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_parliamentary_posts()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_parties()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_preferred_names()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_staff()</a></code></p>
<p><code><a href="../reference/mnis_additional.html">mnis_statuses()</a></code></p>
<div id="mnis_extra" class="section level4">
<h4 class="hasAnchor">
<a href="#mnis_extra" class="anchor"></a>mnis_extra()</h4>
<p>The <code><a href="../reference/mnis_extra.html">mnis_extra()</a></code> function acts as a wrapper to the additional information functions. By default it calls all functions, which is equivalent to <code><a href="../reference/mnis_full_biog.html">mnis_full_biog()</a></code>.</p>
</div>
</div>
<div id="fixed-scope-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-scope-functions" class="anchor"></a>Fixed Scope Functions</h3>
<p>There are seven fixed scope functions that return ready-made datasets. They are:</p>
<p><code><a href="../reference/mnis_party_state.html">mnis_party_state()</a></code></p>
<p><code><a href="../reference/mnis_constituency_results.html">mnis_constituency_results()</a></code></p>
<p><code><a href="../reference/mnis_department.html">mnis_department()</a></code></p>
<p><code><a href="../reference/mnis_general_election_results.html">mnis_general_election_results()</a></code></p>
<p><code><a href="../reference/mnis_lords_type.html">mnis_lords_type()</a></code></p>
<p><code><a href="../reference/mnis_member_date.html">mnis_member_date()</a></code></p>
<p><code><a href="../reference/mnis_party_state.html">mnis_party_state()</a></code></p>
<div id="fixed-scope-example" class="section level4">
<h4 class="hasAnchor">
<a href="#fixed-scope-example" class="anchor"></a>Fixed Scope Example</h4>
<p>Fixed scope example, returning the state of all parties in the House of Commons, as reported on 2017-04-04.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mnis)
x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mnis_party_state.html">mnis_party_state</a></span>()
x

<span class="co">#         house party_id                       party_name party_male_count party_female_count party_total_count</span>
<span class="co"># 1  Commons        4                     Conservative              260                 70               330</span>
<span class="co"># 2  Commons       15                           Labour              128                101               229</span>
<span class="co"># 3  Commons       29          Scottish National Party               36                 18                54</span>
<span class="co"># 4  Commons       17                 Liberal Democrat                8                  1                 9</span>
<span class="co"># 5  Commons        7        Democratic Unionist Party                8                  0                 8</span>
<span class="co"># 6  Commons        8                      Independent                1                  3                 4</span>
<span class="co"># 7  Commons       30                        Sinn Fein                4                  0                 4</span>
<span class="co"># 8  Commons       22                      Plaid Cymru                2                  1                 3</span>
<span class="co"># 9  Commons       31 Social Democratic &amp; Labour Party                2                  1                 3</span>
<span class="co"># 10 Commons       38            Ulster Unionist Party                2                  0                 2</span>
<span class="co"># 11 Commons       44                      Green Party                0                  1                 1</span>
<span class="co"># 12 Commons       47                          Speaker                1                  0                 1</span>
<span class="co"># 13 Commons       35            UK Independence Party                1                  0                 1</span>
<span class="co"># 14 Commons        0                           Vacant                0                  0                 1</span></code></pre></div>
</div>
</div>
<div id="data-tidying" class="section level3">
<h3 class="hasAnchor">
<a href="#data-tidying" class="anchor"></a>Data tidying</h3>
<p><code>mnis</code> contains a parameter option called <code>tidy</code> with all functions except for <code>mnis_base</code>. The default variable names are unnecessarily lengthy, repeat the same piece of information several times in a row and contain non-alphanumeric characters. They also use a mixture of camelCase, <code>.</code>s, <code>@</code>s and <code>#</code>s to seperate words in multi-word variable names. <code>tidy</code> fixes this, and defaults to TRUE, so you won’t have to deal with the clunky and over-complicated default variable names unless you really want to.</p>
<p>There is also an internal function to remove byte-order marks from the API response.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installing-mnis">Installing mnis</a></li>
      <li><a href="#using-mnis">Using mnis</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Evan Odell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
